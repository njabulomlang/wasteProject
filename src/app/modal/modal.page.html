<ion-header
  *ngIf="value==='Paper_Inbound' || value == 'Aluminium_Inbound' || value == 'Plastic_Inbound' ||value == 'Glass_Inbound'"
  class="ion-no-border" style="display: flex;align-items: center; margin: 0 15px 0px 15px;">
  <img src="../../assets/inboundB.svg" style="margin-top: 10px;" width="30" height="30" alt="">
  <h1 style="line-height: 30px;margin-left: 10px;">Inbound drivers</h1>
  <ion-button fill="clear" color="danger" (click)="closeModal()" style=" margin-left: 50%;">
    <ion-icon slot="icon-only" name="close-circle-outline"></ion-icon>
  </ion-button>
</ion-header>

<ion-header *ngIf="showHeader == true">
  <ion-searchbar
    *ngIf="value==='Paper_Inbound' || value == 'Aluminium_Inbound' || value == 'Plastic_Inbound' ||value == 'Glass_Inbound'"
    style="background-color: whitesmoke;" inputmode="numeric"></ion-searchbar>
</ion-header>
<ion-content *ngIf="value==='Paper'">
  <div class="modal_container">
    <!-- <form > -->
    <ion-item>
      <ion-label position="floating">PAP001</ion-label>
      <ion-input [(ngModel)]="price1"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">PAP003</ion-label>
      <ion-input [(ngModel)]="price3"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">PAP005</ion-label>
      <ion-input [(ngModel)]="price5"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">PAP007</ion-label>
      <ion-input [(ngModel)]="price7"></ion-input>
    </ion-item>

    <ion-button color="success" (click)="addPaper()">Save</ion-button>
    <!-- </form> -->

  </div>
  <h3 style="text-align: center;">Price updates records</h3>

  <table class="table table-striped">
    <thead style="background-color: #C5A60A; color: white;">
      <tr>
        <th scope="col" (click)="sortByDate()">Date modified</th>
        <th scope="col">Material</th>
        <th scope="col">Old Price</th>
        <th scope="col">New Price</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let info of infoArr;let i = index">
        <th scope="row">{{info.id | date:'medium'}}</th>
        <td>
          <div *ngFor="let p of info.doc.paper">{{p.name}}<br></div>
        </td>
        <td>
          <div *ngFor="let p of info.doc.paper">{{p.price | currency:'R'}}<br></div>
        </td>
        <td>

        </td>
      </tr>
    </tbody>
  </table>

</ion-content>

<ion-content *ngIf="value==='Plastic'">
  <div class="modal_container">
    <!-- <form > -->
    <ion-item>
      <ion-label position="floating">HD001</ion-label>
      <ion-input [(ngModel)]="hd001"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">LD003</ion-label>
      <ion-input [(ngModel)]="ld003"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">LD001</ion-label>
      <ion-input [(ngModel)]="ld001"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">PET005</ion-label>
      <ion-input [(ngModel)]="pet005"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">PET001</ion-label>
      <ion-input [(ngModel)]="pet001"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">PET003</ion-label>
      <ion-input [(ngModel)]="pet003"></ion-input>
    </ion-item>

    <ion-button color="success" (click)="addPlastic()">Save</ion-button>
    <!-- </form> -->

  </div>
  <h3 style="text-align: center;">Price updates records</h3>

  <table class="table table-striped">
    <thead style="background-color: #C5A60A; color: white;">
      <tr>
        <th scope="col" (click)="sortByDate()">Date modified</th>
        <th scope="col">Material</th>
        <th scope="col">Old Price</th>
        <th scope="col">New Price</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let info of infoArr;let i = index">
        <th scope="row">{{info.id | date:'medium'}}</th>
        <td>
          <div *ngFor="let p of info.doc.paper">{{p.name}}<br></div>
        </td>
        <td>
          <div *ngFor="let p of info.doc.paper">{{p.price | currency:'R'}}<br></div>
        </td>
        <td>
          <div *ngFor="let y of docUpdate[i]">
            <div>{{y.price | currency:'R'}}<br></div>
          </div>
          <div *ngIf="docUpdate.length == 0">
            <div>{{0 | currency:'R'}}<br></div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

</ion-content>

<ion-content *ngIf="value==='Glass' || value==='Aluminium'">
  <div class="modal_container">
    <!-- <form > -->

    <ion-item *ngIf="value==='Glass'">
      <ion-label position="floating">GL001</ion-label>
      <ion-input [(ngModel)]="price"></ion-input>
    </ion-item>

    <ion-item *ngIf="value==='Aluminium'">
      <ion-label position="floating">NFALO01</ion-label>
      <ion-input [(ngModel)]="price"></ion-input>
    </ion-item>

    <ion-button *ngIf="value==='Glass'" color="success" (click)="addGlass()">Save</ion-button>
    <ion-button *ngIf="value==='Aluminium'" color="success" (click)="addAl()">Save</ion-button>
    <!-- </form> -->

  </div>
  <h3 style="text-align: center;">Price updates records</h3>

  <table class="table table-striped">
    <thead style="background-color: #C5A60A; color: white;">
      <tr>
        <th scope="col" (click)="sortByDate()">Date modified</th>
        <th scope="col">Material</th>
        <th scope="col">Old Price</th>
        <th scope="col">New Price</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let info of infoArr;let i = index">
        <th scope="row">{{info.id | date:'medium'}}</th>
        <td>
          <div *ngFor="let p of info.doc.paper">{{p.name}}<br></div>
        </td>
        <td>
          <div *ngFor="let p of info.doc.paper">{{p.price | currency:'R'}}<br></div>
        </td>
        <td>

        </td>
      </tr>
    </tbody>
  </table>

</ion-content>

<ion-content
  *ngIf="value==='Paper_Inbound' || value == 'Aluminium_Inbound' || value == 'Plastic_Inbound' ||value == 'Glass_Inbound'">
  <div class="paper_In_container">
    <ion-slides style="margin: 0; padding: 0;height: 40vh;" #slides>
      <ion-slide>
        <ion-card style="flex: 1;">
          <ion-card-content>
            <ion-list lines="none">
              <ion-item color="medium" style="margin: 10px; border-radius: 5px;" (click)="presentAlert(d.id)" *ngFor="let d of driverArr">
                <div style="display: flex; flex-direction: column;">
                  <h3 style="color: black; text-transform: uppercase; font-weight: bold;">{{d.info.fullName}}</h3>
                  <h4 style="color: rgb(80, 80, 80);text-transform: uppercase;">{{d.id}}</h4>
                  <p style="color: rgb(80, 80, 80);text-transform: uppercase;">{{d.info.regNo}}</p>
                </div>
              </ion-item>
            </ion-list>
          </ion-card-content>
        </ion-card>
        <div id="pc1" style="width: 300px; height: 45vh; ">
          <ion-card>
            <ion-card-header color="success" style="height: 6vh; margin: 4px;">
              <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
              <!-- <ion-card-title> <ion-icon slot="end" name="arrow-back" (click)="closeDiv()" style="width: 30px; height: 5vh;"></ion-icon> <h4>Create New Driver</h4></ion-card-title> -->

              <!-- <ion-item> -->

              <ion-button color="light" fill=clear (click)="closeDiv()">
                <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
              </ion-button>
              Create New Driver
              <!-- </ion-item> -->
            </ion-card-header>

            <ion-item>
              <ion-avatar *ngIf="!profilePic" style="margin: auto;">
                <img src="../../assets/user (1).png">
                <ion-progress-bar value="{{progress}}"></ion-progress-bar>
              </ion-avatar>
              <ion-avatar *ngIf="profilePic" style="margin: auto;">
                <img style="border: rgb(54, 109, 0) solid 1px;" src="{{profilePic}}">
              </ion-avatar>
              <input type="file" id="fileUpload" (change)="addEventListener($event)">
              
            </ion-item>
            <!-- <form [formGroup]="driverForm"> -->
              <ion-input
                style="margin: 5px; border-radius: 5px; background-color: rgba(169, 169, 169, 0.507); width: 200px;color: rgb(0, 0, 0);"
                placeholder="Full name" [formControl]="fullName"></ion-input>

              <ion-input
                style="margin: 5px; border-radius: 5px; background-color: rgba(169, 169, 169, 0.507); width: 200px;color: rgb(0, 0, 0);"
                placeholder="Phone number" [formControl]="phoneNumber"></ion-input>

              <ion-input
                style="margin: 5px; border-radius: 5px; background-color: rgba(169, 169, 169, 0.507); width: 200px;color: rgb(0, 0, 0);"
                placeholder="Registration no." [formControl]="regNo"></ion-input>

              <ion-input
                style="margin: 5px; border-radius: 5px; background-color: rgba(169, 169, 169, 0.507); width: 200px;color:rgb(0, 0, 0);"
                placeholder="Company name" [formControl]="cName"></ion-input>

              <ion-input
                style="margin: 5px; border-radius: 5px; background-color: rgba(169, 169, 169, 0.507); width: 200px;color: rgb(0, 0, 0);"
                placeholder="Company address" [formControl]="cAddress"></ion-input>
            <!-- </form> -->


            <!-- <ion-button color="primary" style="margin-left: 25%;">Primary</ion-button> -->
          </ion-card>
        </div>
      </ion-slide>
      <ion-slide>
        <ion-card style="width: 100%; height: 100%;">
          <ion-card-header
            style="display: flex; width: 100%; justify-content: space-between; border-bottom: rgba(128, 128, 128, 0.685) 1px solid;">
            <ion-button [color]="valueC == 'Paper' ? 'success' : 'light'" style="flex: 1; --box-shadow:none;"
              (click)="materialClicked('Paper', $event,0)">Paper</ion-button>
            <ion-button [color]="valueC == 'Plastic' ? 'success' : 'light'" style="flex: 1;  --box-shadow:none;"
              (click)="materialClicked('Plastic', $event,1)">Plastic</ion-button>
            <ion-button [color]="valueC == 'Glass' ? 'success' : 'light'" style="flex: 1;  --box-shadow:none;"
              (click)="materialClicked('Glass', $event,2)">Glass</ion-button>
            <ion-button [color]="valueC == 'Aluminium'? 'success' : 'light'" style="flex: 1;  --box-shadow:none;"
              (click)="materialClicked('Aluminium', $event,3)">Aluminium</ion-button>
          </ion-card-header>

          <ion-card-content>
            <div style="text-align: right;" style="display: flex;flex-wrap: wrap;"
              *ngFor="let y of infoArr;let i=index">
              <div *ngFor="let z of y.doc.paper" style="width: 250px;">
                <ion-input id="material" (ionChange)="showPrice($event, z)" (ionBlur)="pushToArray()"
                  placeholder="Enter mass" style="text-align: left;"></ion-input>
                <p for="material">{{z.name}}</p>
              </div>

            </div>
          </ion-card-content>
        </ion-card>
      </ion-slide>
    </ion-slides>

  </div>



</ion-content>


<ion-footer
  *ngIf="value==='Paper_Inbound' || value == 'Aluminium_Inbound' || value == 'Plastic_Inbound' ||value == 'Glass_Inbound'"
  style="display: flex; flex-direction: column;align-items: flex-end;">
  <ion-button style="align-self: center;" *ngIf="showHeader == true" (click)="pcsh1()">
    <ion-icon slot="start" name="add-circle-outline"></ion-icon>
    Add Driver
  </ion-button>
  <div style="display: flex; align-items: flex-end;">
    <ion-button *ngIf="showHeader == true" [disabled] = "fullName.invalid || phoneNumber.invalid || regNo.invalid || profilePic.invalid || cName.invalid || cAddress.invalid" color="tertiary" (click)="slideNext()">Next</ion-button>
    <ion-button *ngIf="showHeader == false" color="tertiary" (click)="slidePrev()">Back</ion-button>
    <ion-button *ngIf="showHeader == false" color="tertiary" (click)="addInbound()">Done</ion-button>
  </div>
</ion-footer>